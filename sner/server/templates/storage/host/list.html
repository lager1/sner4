{#- This file is part of sner4 project governed by MIT license, see the LICENSE.txt file. -#}
{% extends "base.html" %}

{% block title %}Hosts / List{% endblock %}

{% block script %}
<script type="text/javascript">
	var dt_host_list_table_options = {
		'ajax': {'url': "{{ url_for('storage.host_list_json_route', **request.args) }}", 'method': 'POST'},
		'columns': [
			dt_column('id', {'visible': false}),
			dt_column('address', {'render': function (data, type, row, meta) { return storage_pagepart_host_link({'host_id': row['id'], 'host_address': row['address']}); }}),
			dt_column('hostname'),
			dt_column('os'),
			dt_column('cnt_s'),
			dt_column('cnt_v'),
			dt_column('cnt_n'),
			dt_column('comment'),
			dt_column_buttons(storage_pagepart_host_controls)
		]
	};
	$(document).ready(function() {
		var dt_host_list_table = $('#host_list_table').DataTable($.extend({}, dt_ajax_options, dt_host_list_table_options));
	});
</script>
{% endblock %}

{% block content %}
<div class="d-flex align-items-center mb-2">
	<div class="flex-fill">
		{{ cm.breadcrumbs(['Storage', 'Hosts', 'List']) }}
	</div>
	<div class="pl-2">
		<a class="btn btn-outline-primary" href="{{ url_for('storage.host_add_route') }}">Add</a>
	</div>
</div>

<table id="host_list_table" class="table table-hover table-sm" width="100%"></table>
{% endblock %}
